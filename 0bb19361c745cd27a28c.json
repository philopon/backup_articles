{"rendered_body": "<p>ClearOutputPreprocessor\u3092\u4f7f\u3048\u3070output\u3092\u6d88\u305b\u308b</p>\n\n<div class=\"code-frame\" data-lang=\"console\"><div class=\"highlight\"><pre><span class=\"gp\">$</span><span class=\"w\"> </span>jupyter nbconvert <span class=\"nt\">--to</span> notebook <span class=\"nt\">--Exporter</span>.preprocessors<span class=\"o\">=</span><span class=\"s1\">'[\"nbconvert.preprocessors.clearoutput.ClearOutputPreprocessor\"]'</span> <span class=\"nv\">$NAME</span>.ipynb\n<span class=\"gp\">[NbConvertApp] Converting notebook $</span>NAME.ipynb to notebook\n<span class=\"gp\">[NbConvertApp] Writing XXXX bytes to $</span>NAME.nbconvert.ipynb\n</pre></div></div>\n\n<p>git\u3067\u7ba1\u7406\u3059\u308b\u6642\u3068\u304b\u306b\u4f7f\u3046\u3068\u826f\u3055\u3052</p>\n\n<div class=\"code-frame\" data-lang=\"console\"><div class=\"highlight\"><pre><span class=\"gp\">$</span><span class=\"w\"> </span>git config core.attributesfile .gitattributes\n<span class=\"gp\">$</span><span class=\"w\"> </span>git config filter.clearoutput_ipynb.clean clearoutput_ipynb.py\n<span class=\"gp\">$</span><span class=\"w\"> </span>git config filter.clearoutput_ipynb.smudge <span class=\"nb\">cat</span>\n</pre></div></div>\n\n<div class=\"code-frame\" data-lang=\"\">\n<div class=\"code-lang\"><span class=\"bold\">.gitattributes</span></div>\n<div class=\"highlight\"><pre>*.ipynb    filter=clearoutput_ipynb\n</pre></div>\n</div>\n\n<div class=\"code-frame\" data-lang=\"py3\">\n<div class=\"code-lang\"><span class=\"bold\">clearoutput_ipynb.py</span></div>\n<div class=\"highlight\"><pre><span class=\"c1\">#!/usr/bin/env python\n</span><span class=\"kn\">import</span> <span class=\"nn\">sys</span>\n<span class=\"kn\">import</span> <span class=\"nn\">nbformat</span>\n<span class=\"kn\">import</span> <span class=\"nn\">nbconvert</span>\n\n<span class=\"n\">exporter</span> <span class=\"o\">=</span> <span class=\"n\">nbconvert</span><span class=\"o\">.</span><span class=\"n\">NotebookExporter</span><span class=\"p\">()</span>\n\n<span class=\"c1\"># exporter\u306bpreprocessor\u3092\u767b\u9332\u3002enabled\u306f\u30c7\u30d5\u30a9\u30eb\u30c8\u3067False\u306a\u306e\u3067\u5fd8\u308c\u305a\u306bTrue\u3092\u6307\u5b9a\n</span><span class=\"n\">exporter</span><span class=\"o\">.</span><span class=\"n\">register_preprocessor</span><span class=\"p\">(</span>\n    <span class=\"n\">nbconvert</span><span class=\"o\">.</span><span class=\"n\">preprocessors</span><span class=\"o\">.</span><span class=\"n\">ClearOutputPreprocessor</span><span class=\"p\">(),</span>\n    <span class=\"n\">enabled</span><span class=\"o\">=</span><span class=\"bp\">True</span>\n<span class=\"p\">)</span>\n\n<span class=\"n\">body</span><span class=\"p\">,</span> <span class=\"n\">_</span> <span class=\"o\">=</span> <span class=\"n\">exporter</span><span class=\"o\">.</span><span class=\"n\">from_notebook_node</span><span class=\"p\">(</span>\n    <span class=\"n\">nbformat</span><span class=\"o\">.</span><span class=\"n\">read</span><span class=\"p\">(</span><span class=\"n\">sys</span><span class=\"o\">.</span><span class=\"n\">stdin</span><span class=\"p\">,</span> <span class=\"n\">nbformat</span><span class=\"o\">.</span><span class=\"n\">NO_CONVERT</span><span class=\"p\">)</span>\n<span class=\"p\">)</span>\n\n<span class=\"k\">print</span><span class=\"p\">(</span><span class=\"n\">body</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n\n<h1>\n<span id=\"\u95a2\u9023\" class=\"fragment\"></span><a href=\"#%E9%96%A2%E9%80%A3\"><i class=\"fa fa-link\"></i></a>\u95a2\u9023</h1>\n\n<p><a href=\"http://stackoverflow.com/questions/18734739/using-ipython-notebooks-under-version-control\" rel=\"nofollow noopener\" target=\"_blank\">Using IPython notebooks under version control - Stack Overflow</a></p>\n", "body": "ClearOutputPreprocessor\u3092\u4f7f\u3048\u3070output\u3092\u6d88\u305b\u308b\n\n```console:\n$ jupyter nbconvert --to notebook --Exporter.preprocessors='[\"nbconvert.preprocessors.clearoutput.ClearOutputPreprocessor\"]' $NAME.ipynb\n[NbConvertApp] Converting notebook $NAME.ipynb to notebook\n[NbConvertApp] Writing XXXX bytes to $NAME.nbconvert.ipynb\n```\n\ngit\u3067\u7ba1\u7406\u3059\u308b\u6642\u3068\u304b\u306b\u4f7f\u3046\u3068\u826f\u3055\u3052\n\n```console:\n$ git config core.attributesfile .gitattributes\n$ git config filter.clearoutput_ipynb.clean clearoutput_ipynb.py\n$ git config filter.clearoutput_ipynb.smudge cat\n```\n\n```:.gitattributes\n*.ipynb    filter=clearoutput_ipynb\n```\n\n```py3:clearoutput_ipynb.py\n#!/usr/bin/env python\nimport sys\nimport nbformat\nimport nbconvert\n\nexporter = nbconvert.NotebookExporter()\n\n# exporter\u306bpreprocessor\u3092\u767b\u9332\u3002enabled\u306f\u30c7\u30d5\u30a9\u30eb\u30c8\u3067False\u306a\u306e\u3067\u5fd8\u308c\u305a\u306bTrue\u3092\u6307\u5b9a\nexporter.register_preprocessor(\n    nbconvert.preprocessors.ClearOutputPreprocessor(),\n    enabled=True\n)\n\nbody, _ = exporter.from_notebook_node(\n    nbformat.read(sys.stdin, nbformat.NO_CONVERT)\n)\n\nprint(body)\n```\n\n\u95a2\u9023\n==\n[Using IPython notebooks under version control - Stack Overflow](http://stackoverflow.com/questions/18734739/using-ipython-notebooks-under-version-control)\n", "coediting": false, "comments_count": 0, "created_at": "2015-11-11T02:44:48+09:00", "group": null, "id": "0bb19361c745cd27a28c", "likes_count": 17, "private": false, "reactions_count": 0, "tags": [{"name": "Python", "versions": ["3.5.0"]}, {"name": "Git", "versions": ["2.4.9"]}, {"name": "IPython", "versions": ["4.0.0"]}, {"name": "Jupyter", "versions": ["4.0.6"]}], "title": "\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u3067ipython notebook\u306eoutput\u3092\u5168\u90e8\u6d88\u3059", "updated_at": "2016-07-14T12:53:56+09:00", "url": "https://qiita.com/philopon/items/0bb19361c745cd27a28c", "user": {"description": "", "facebook_id": "", "followees_count": 4, "followers_count": 48, "github_login_name": null, "id": "philopon", "items_count": 30, "linkedin_id": "", "location": "", "name": "", "organization": "", "permanent_id": 33562, "profile_image_url": "https://qiita-image-store.s3.amazonaws.com/0/33562/profile-images/1473686152", "team_only": false, "twitter_screen_name": null, "website_url": "http://philopon.github.io"}, "page_views_count": null}